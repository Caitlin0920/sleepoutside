<!DOCTYPE html>
<html>


<body>

    <h2>JavaScript Geolocation</h2>

    <p>Click the button to get your coordinates.</p>

    <button onclick="getLocation()">Try It</button>

    <p id="demo"></p>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDt1ftwSKrdWyFSEX91WilE9061T3TSvP0&callback=initMap"
        async defer></script>
    <script>
        const x = document.getElementById("demo");

        function getLocation() {
            try {
                navigator.geolocation.getCurrentPosition(showPosition);
            } catch {
                x.innerHTML = err;
            }
        }

        function showPosition(position) {
            x.innerHTML = "Latitude: " + position.coords.latitude +
                "<br>Longitude: " + position.coords.longitude;
        }

        function initMap() {
            let pos;
            try {
                navigator.geolocation.getCurrentPosition((position) => {
                    pos = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    };
                    const map = new google.maps.Map(document.getElementById("map"), {
                        zoom: 15,
                        center: pos
                    });
                    const marker = new google.maps.Marker({
                        position: pos,
                        map: map
                    });
                });
            } catch (err) {
                console.error(err);
            }
        }

    </script>
    <div id="map" style="height: 500px; width: 100%;"></div>


</body>

</html>